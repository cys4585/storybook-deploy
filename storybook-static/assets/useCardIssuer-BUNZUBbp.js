import{j as r}from"./jsx-runtime-BnIj46N_.js";import{a as g,c as v,i as c}from"./cardIssuers-BjBf63as.js";import{T as S,C as x,E as C}from"./ErrorMessage-CSnPlGZt.js";import{S as T}from"./Select-Bs-MOhmf.js";import{u as l}from"./styled-components.browser.esm-BDDUX98t.js";import{r as t}from"./index-CsdIBAqE.js";import{u as h}from"./useBoolean-C4Nz0XNG.js";function M({errorState:e,selectRef:n,onChange:s,onBlur:o}){return t.useEffect(()=>{var a;(a=n.current)==null||a.focus()},[]),r.jsxs(R,{children:[r.jsxs("div",{children:[r.jsx(S,{children:"카드사를 선택해 주세요"}),r.jsx(x,{children:"현재 국내 카드사만 가능합니다."})]}),r.jsxs(I,{children:[r.jsx(T,{ref:n,placeholder:"카드사를 선택해주세요",options:y,isError:e.isError,onChange:s,onBlur:o}),e.isError&&r.jsx(C,{message:e.errorMessage})]})]})}const R=l.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 100%;
`,I=l.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,y=g.map(e=>({value:e,label:v[e].label}));M.__docgenInfo={description:"",methods:[],displayName:"CardIssuerSelect",props:{valueState:{required:!0,tsType:{name:"union",raw:'CardIssuer | ""',elements:[{name:"CardIssuer"},{name:"literal",value:'""'}]},description:""},errorState:{required:!0,tsType:{name:"CardIssuerErrorState"},description:""},selectRef:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLSelectElement>",elements:[{name:"HTMLSelectElement"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLSelectElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLSelectElement>",elements:[{name:"HTMLSelectElement"}]},name:"event"}],return:{name:"void"}}},description:""},onBlur:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: React.FocusEvent<HTMLSelectElement>) => void",signature:{arguments:[{type:{name:"ReactFocusEvent",raw:"React.FocusEvent<HTMLSelectElement>",elements:[{name:"HTMLSelectElement"}]},name:"event"}],return:{name:"void"}}},description:""}}};const j=e=>{if(e==="")throw new Error("카드사를 선택해 주세요")},D=()=>{const[e,n]=t.useState(""),[s,o]=t.useState({isError:!1,errorMessage:""}),{flag:a,setTrue:m}=h(),d=t.useRef(null),p=t.useMemo(()=>e.length>0&&!s.isError,[e,s.isError]),f=i=>{c(i.target.value)&&(n(i.target.value),o({isError:!1,errorMessage:""}))},E=i=>{try{j(i.target.value)}catch(u){u instanceof Error&&o({isError:!0,errorMessage:u.message})}};return t.useEffect(()=>{a||c(e)&&m()},[e]),{isDoneThisStep:a,isValid:p,cardIssuerSelectProps:{valueState:e,errorState:s,selectRef:d,onChange:f,onBlur:E}}};export{M as C,D as u};
